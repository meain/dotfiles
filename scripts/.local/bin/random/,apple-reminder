#!/bin/sh

set -e

HOUR="$1"
MINUTE="$2"
SECOND="0" # too much
ALARM_NAME="${3:-"Reminder"}"

osascript <<EOF
set alarmTime to (current date)
set hours of alarmTime to $HOUR
set minutes of alarmTime to $MINUTE
set seconds of alarmTime to $SECOND
if alarmTime < (current date) then
    set alarmTime to alarmTime + (1 * days)
end if
tell application "Reminders" to make new reminder with properties {name:"$ALARM_NAME", remind me date:alarmTime}
